const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/index.M9SNm6Va.js","_astro/preload-helper.BlTxHScW.js"])))=>i.map(i=>d[i]);
import{_ as l}from"./preload-helper.BlTxHScW.js";document.addEventListener("DOMContentLoaded",()=>{const a=["profile","activity","preferences","admin"],i=a.map(e=>document.getElementById(`${e}-tab`)),n=a.map(e=>document.getElementById(`${e}-content`));i.forEach((e,s)=>{e?.addEventListener("click",()=>{i.forEach(t=>{t?.classList.remove("bg-amber-600","text-white","shadow-lg"),t?.classList.add("text-neutral-400","hover:text-neutral-200")}),n.forEach(t=>{t?.classList.add("hidden")}),e?.classList.add("bg-amber-600","text-white","shadow-lg"),e?.classList.remove("text-neutral-400","hover:text-neutral-200"),n[s]?.classList.remove("hidden")})}),d()});async function d(){try{const{createClient:a}=await l(async()=>{const{createClient:t}=await import("./index.M9SNm6Va.js");return{createClient:t}},__vite__mapDeps([0,1])),e=a("https://lebumzszhhjlpflqgity.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxlYnVtenN6aGhqbHBmbHFnaXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0OTk5NjgsImV4cCI6MjA3NTA3NTk2OH0.2XeY7OXkEfXiG_qwlSRN5rNE2gbZde42v4KfTrmctSs"),{data:{user:s}}=await e.auth.getUser();if(s){const t=document.getElementById("profile-email"),o=document.getElementById("profile-created");if(t&&(t.value=s.email||""),o){const r=new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});o.value=r}const{data:c}=await e.from("profiles").select("role").eq("id",s.id).single();c?.role==="admin"&&document.getElementById("admin-tab")?.classList.remove("hidden")}else window.location.href="/auth"}catch(a){console.error("Failed to load user profile:",a)}}
