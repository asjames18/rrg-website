import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as a}from"./index.DK-fsZOb.js";function v({tracks:s,className:u=""}){const[r,l]=a.useState(0),[m,o]=a.useState(!1),i=a.useRef(null);a.useEffect(()=>{const t=i.current;if(!t)return;const n=()=>o(!0),c=()=>o(!1),f=()=>{r<s.length-1?l(g=>g+1):o(!1)};return t.addEventListener("play",n),t.addEventListener("pause",c),t.addEventListener("ended",f),()=>{t.removeEventListener("play",n),t.removeEventListener("pause",c),t.removeEventListener("ended",f)}},[r,s.length]),a.useEffect(()=>{const t=i.current;t&&(t.load(),m&&t.play().catch(()=>o(!1)))},[r]);const x=()=>{r>0&&l(t=>t-1)},b=()=>{r<s.length-1&&l(t=>t+1)};if(s.length===0)return e.jsx("div",{className:`bg-neutral-900 border border-neutral-800 rounded-lg p-8 text-center ${u}`,children:e.jsx("p",{className:"text-neutral-500",children:"No tracks available"})});const d=s[r];return e.jsxs("div",{className:`bg-neutral-900 border border-neutral-800 rounded-lg p-6 ${u}`,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-amber-100 mb-1",children:d.title}),e.jsxs("p",{className:"text-sm text-neutral-500",children:["Track ",r+1," of ",s.length]})]}),e.jsxs("audio",{ref:i,controls:!0,className:"w-full mb-4 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-neutral-900 rounded",preload:"metadata",children:[e.jsx("source",{src:d.src,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("button",{onClick:x,disabled:r===0,className:"flex items-center gap-2 px-4 py-2 bg-neutral-800 hover:bg-neutral-700 disabled:bg-neutral-900 disabled:text-neutral-600 disabled:cursor-not-allowed text-neutral-200 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-neutral-900","aria-label":"Previous track",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})}),e.jsx("span",{className:"text-sm font-medium",children:"Previous"})]}),e.jsxs("button",{onClick:b,disabled:r===s.length-1,className:"flex items-center gap-2 px-4 py-2 bg-neutral-800 hover:bg-neutral-700 disabled:bg-neutral-900 disabled:text-neutral-600 disabled:cursor-not-allowed text-neutral-200 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-neutral-900","aria-label":"Next track",children:[e.jsx("span",{className:"text-sm font-medium",children:"Next"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M16 18h2V6h-2zm-11.5-6L13 6v12z"})})]})]}),s.length>1&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-400 mb-3",children:"Playlist"}),e.jsx("div",{className:"space-y-2",children:s.map((t,n)=>e.jsx("button",{onClick:()=>l(n),className:`w-full text-left px-3 py-2 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-neutral-900 ${n===r?"bg-amber-900/30 text-amber-100 border border-amber-700":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700 border border-transparent"}`,children:e.jsx("span",{className:"text-sm font-medium",children:t.title})},n))})]})]})}export{v as default};
