import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{r as a}from"./index.yGrMsBkE.js";import{s as p}from"./supabase.CM8HHm_J.js";import"./index.yBjzXJbu.js";import"./index.M9SNm6Va.js";import"./preload-helper.BlTxHScW.js";function w(){const[l,d]=a.useState([]),[r,c]=a.useState({postsRead:0,videosWatched:0,favoritesSaved:0,totalTimeSpent:0}),[o,n]=a.useState(!0);a.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const{data:{user:t}}=await p.auth.getUser();if(!t)return;d([]),c({postsRead:0,videosWatched:0,favoritesSaved:0,totalTimeSpent:0})}catch(t){console.error("Error fetching activity data:",t)}finally{n(!1)}},m=t=>{switch(t){case"login":return"üîê";case"post_read":return"üìñ";case"video_watched":return"üé•";case"favorite_saved":return"‚≠ê";case"profile_updated":return"‚úèÔ∏è";default:return"üìù"}},u=t=>{switch(t){case"login":return"bg-green-500";case"post_read":return"bg-blue-500";case"video_watched":return"bg-purple-500";case"favorite_saved":return"bg-yellow-500";case"profile_updated":return"bg-amber-500";default:return"bg-neutral-500"}},h=t=>{const i=new Date(t),s=Math.floor((new Date().getTime()-i.getTime())/(1e3*60));return s<1?"Just now":s<60?`${s}m ago`:s<1440?`${Math.floor(s/60)}h ago`:i.toLocaleDateString()};return o?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-neutral-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(t=>e.jsx("div",{className:"h-16 bg-neutral-800 rounded"},t))})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-neutral-800/50 border border-neutral-700/50 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-100 mb-1",children:r.postsRead}),e.jsx("div",{className:"text-sm text-neutral-400",children:"Posts Read"})]}),e.jsxs("div",{className:"bg-neutral-800/50 border border-neutral-700/50 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-100 mb-1",children:r.videosWatched}),e.jsx("div",{className:"text-sm text-neutral-400",children:"Videos Watched"})]}),e.jsxs("div",{className:"bg-neutral-800/50 border border-neutral-700/50 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-100 mb-1",children:r.favoritesSaved}),e.jsx("div",{className:"text-sm text-neutral-400",children:"Favorites"})]}),e.jsxs("div",{className:"bg-neutral-800/50 border border-neutral-700/50 rounded-xl p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-amber-100 mb-1",children:[r.totalTimeSpent,"m"]}),e.jsx("div",{className:"text-sm text-neutral-400",children:"Time Spent"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-4 font-display",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:l.length>0?l.map(t=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-neutral-800/30 border border-neutral-700/30 rounded-lg hover:bg-neutral-800/50 transition-colors",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ${u(t.type)}`,children:m(t.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-neutral-200 font-medium",children:t.description}),e.jsx("p",{className:"text-sm text-neutral-400",children:h(t.timestamp)})]})]},t.id)):e.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üìù"}),e.jsx("p",{children:"No activity yet"}),e.jsx("p",{className:"text-sm",children:"Start exploring content to see your activity here"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-4 font-display",children:"Quick Actions"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("a",{href:"/blog",className:"flex items-center gap-3 p-4 bg-neutral-800/50 border border-neutral-700/50 rounded-lg hover:bg-neutral-800/70 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:"üìñ"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-neutral-200",children:"Read Latest Posts"}),e.jsx("div",{className:"text-sm text-neutral-400",children:"Explore our teachings"})]})]}),e.jsxs("a",{href:"/videos",className:"flex items-center gap-3 p-4 bg-neutral-800/50 border border-neutral-700/50 rounded-lg hover:bg-neutral-800/70 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:"üé•"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-neutral-200",children:"Watch Videos"}),e.jsx("div",{className:"text-sm text-neutral-400",children:"Learn from our teachings"})]})]})]})]})]})}export{w as default};
